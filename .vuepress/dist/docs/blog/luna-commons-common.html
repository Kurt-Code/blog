<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>luna-commons-common</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.55ffeef8.css" as="style"><link rel="preload" href="/assets/js/app.ebe3b1de.js" as="script"><link rel="preload" href="/assets/js/2.4c58c080.js" as="script"><link rel="preload" href="/assets/js/19.c751ec00.js" as="script"><link rel="prefetch" href="/assets/js/10.63b8196b.js"><link rel="prefetch" href="/assets/js/11.4a5c446a.js"><link rel="prefetch" href="/assets/js/12.c022bd17.js"><link rel="prefetch" href="/assets/js/13.773eab7e.js"><link rel="prefetch" href="/assets/js/14.901569f9.js"><link rel="prefetch" href="/assets/js/15.6a55b5b6.js"><link rel="prefetch" href="/assets/js/16.17a4c5e3.js"><link rel="prefetch" href="/assets/js/17.67e4c375.js"><link rel="prefetch" href="/assets/js/18.411c16c4.js"><link rel="prefetch" href="/assets/js/20.a2295a0e.js"><link rel="prefetch" href="/assets/js/21.fa6da62d.js"><link rel="prefetch" href="/assets/js/22.35cee2f0.js"><link rel="prefetch" href="/assets/js/23.ba426b40.js"><link rel="prefetch" href="/assets/js/24.738ed083.js"><link rel="prefetch" href="/assets/js/25.503a83c5.js"><link rel="prefetch" href="/assets/js/26.cc6b11b1.js"><link rel="prefetch" href="/assets/js/27.a9baac72.js"><link rel="prefetch" href="/assets/js/28.b25a63a6.js"><link rel="prefetch" href="/assets/js/29.fc3f504b.js"><link rel="prefetch" href="/assets/js/3.14f4631f.js"><link rel="prefetch" href="/assets/js/30.1fe29b2c.js"><link rel="prefetch" href="/assets/js/31.424402df.js"><link rel="prefetch" href="/assets/js/32.5449252e.js"><link rel="prefetch" href="/assets/js/33.d824df12.js"><link rel="prefetch" href="/assets/js/34.53190152.js"><link rel="prefetch" href="/assets/js/35.72047ead.js"><link rel="prefetch" href="/assets/js/36.56806a70.js"><link rel="prefetch" href="/assets/js/37.d4f1eb64.js"><link rel="prefetch" href="/assets/js/38.d13ab81d.js"><link rel="prefetch" href="/assets/js/39.4c296e86.js"><link rel="prefetch" href="/assets/js/4.8a328f49.js"><link rel="prefetch" href="/assets/js/40.dfd7ae0d.js"><link rel="prefetch" href="/assets/js/41.40fee039.js"><link rel="prefetch" href="/assets/js/42.ebbb8571.js"><link rel="prefetch" href="/assets/js/43.e33f32d1.js"><link rel="prefetch" href="/assets/js/44.665c96ca.js"><link rel="prefetch" href="/assets/js/45.47cb0391.js"><link rel="prefetch" href="/assets/js/46.0917b975.js"><link rel="prefetch" href="/assets/js/47.c1239e3c.js"><link rel="prefetch" href="/assets/js/48.07588af8.js"><link rel="prefetch" href="/assets/js/49.c9af47c8.js"><link rel="prefetch" href="/assets/js/5.a453336a.js"><link rel="prefetch" href="/assets/js/50.62a3be43.js"><link rel="prefetch" href="/assets/js/51.cc276a40.js"><link rel="prefetch" href="/assets/js/52.56adc6dd.js"><link rel="prefetch" href="/assets/js/53.aa1073e9.js"><link rel="prefetch" href="/assets/js/54.7c316bde.js"><link rel="prefetch" href="/assets/js/55.36608449.js"><link rel="prefetch" href="/assets/js/56.7130e1b1.js"><link rel="prefetch" href="/assets/js/57.41643496.js"><link rel="prefetch" href="/assets/js/58.8f3044bb.js"><link rel="prefetch" href="/assets/js/59.a906f8c0.js"><link rel="prefetch" href="/assets/js/6.31917025.js"><link rel="prefetch" href="/assets/js/60.3d81027a.js"><link rel="prefetch" href="/assets/js/7.5d9e3f76.js"><link rel="prefetch" href="/assets/js/8.f8495cd9.js"><link rel="prefetch" href="/assets/js/9.3332abe0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.55ffeef8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="基础工具包api"><a href="#基础工具包api" class="header-anchor">#</a> 基础工具包Api</h2> <h3 id="http操作"><a href="#http操作" class="header-anchor">#</a> http操作</h3> <h5 id="httputils类"><a href="#httputils类" class="header-anchor">#</a> HttpUtils类</h5> <ol><li>普通get请求</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
     * get
     *
     * @param host 主机
     * @param path 路径
     * @param headers 请求头
     * @param queries 请求参数
     * @return
     * @throws Exception
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">HttpResponse</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">String</span> host<span class="token punctuation">,</span> <span class="token class-name">String</span> path<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> headers<span class="token punctuation">,</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> queries<span class="token punctuation">)</span> 
</code></pre></div><ol start="2"><li>参数/文件post请求</li></ol> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token comment">/**
     * Post File/form
     *
     * @param host 主机
     * @param path 路径
     * @param headers 请求头
     * @param queries 请求参数
     * @param bodies &lt;p&gt;Map&lt;文件名或者参数key,文件地址或者参数value&gt;&lt;p/&gt;
     * @return
     * @throws Exception
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">HttpResponse</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">String</span> host<span class="token punctuation">,</span> <span class="token class-name">String</span> path<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> headers<span class="token punctuation">,</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> queries<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> bodies<span class="token punctuation">)</span>
</code></pre></div><ol start="3"><li>流post请求</li></ol> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token comment">/**
     * Post stream
     *
     * @param host 主机
     * @param path 路径
     * @param headers 请求头
     * @param queries 请求参数
     * @param body 字节流
     * @return
     * @throws Exception
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">HttpResponse</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">String</span> host<span class="token punctuation">,</span> <span class="token class-name">String</span> path<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> headers<span class="token punctuation">,</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> queries<span class="token punctuation">,</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> body<span class="token punctuation">)</span>
</code></pre></div><ol start="4"><li>字符串post请求</li></ol> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token comment">/**
     * Post String
     *
     * @param host 主机
     * @param path 路径
     * @param headers 请求头
     * @param queries 请求参数
     * @param body 字符串
     * @return
     * @throws Exception
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">HttpResponse</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">String</span> host<span class="token punctuation">,</span> <span class="token class-name">String</span> path<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> headers<span class="token punctuation">,</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> queries<span class="token punctuation">,</span> <span class="token class-name">String</span> body<span class="token punctuation">)</span> 
</code></pre></div><ol start="5"><li>返回结果解析及检查</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
     * 检测响应体
     * 
     * @param httpResponse
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">checkResponseAndGetResult</span><span class="token punctuation">(</span><span class="token class-name">HttpResponse</span> httpResponse<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isEnsure<span class="token punctuation">)</span>
</code></pre></div><ol start="6"><li>简单的检查是否为网络路径</li></ol> <div class="language-java extra-class"><pre class="language-java"><code> <span class="token comment">/**
     * 检查是不是网络路径
     * 
     * @param url
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">isNetUrl</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</code></pre></div><h3 id="jsonfile"><a href="#jsonfile" class="header-anchor">#</a> jsonfile</h3> <h5 id="informationconverter类"><a href="#informationconverter类" class="header-anchor">#</a> InformationConverter类</h5> <ol><li>读取JSON文件操作</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
     * 读取json文件并转换为JSONObject
     * @param path JSON文件路径
     * @return a fastjson JSONObject
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">JSONObject</span> <span class="token function">fileToJson</span><span class="token punctuation">(</span><span class="token class-name">String</span> path<span class="token punctuation">)</span>
</code></pre></div><ol start="2"><li>JSONObject写入JSON文件</li></ol> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token comment">/**
     * write json String to a json file
     * @param text the json text needs to write
     * @param path the json file path needs to save
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">stringToFile</span><span class="token punctuation">(</span><span class="token class-name">String</span> text<span class="token punctuation">,</span> <span class="token class-name">String</span> path<span class="token punctuation">)</span>
</code></pre></div><ol start="3"><li>获取JSON文件中的指定值</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
     * get item from json text file
     * @param path the json file path
     * @param item the item you want to get, can be para, header
     * @return a Map, key is String, value is Object
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token function">getItem</span><span class="token punctuation">(</span><span class="token class-name">String</span> path<span class="token punctuation">,</span> <span class="token class-name">String</span> item<span class="token punctuation">)</span>
</code></pre></div><ol start="4"><li>将JSONObject的值转为HashMap</li></ol> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token comment">/**
     * Convert jsonobject to hashMap
     * @param object the jsonObject need to convert
     * @return the hashMap(String, String)
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">jsonToHasMap</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span> object<span class="token punctuation">)</span>
</code></pre></div><h3 id="okhttp"><a href="#okhttp" class="header-anchor">#</a> okHttp</h3> <ol><li>Get请求</li></ol> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token comment">/**
     * send a get to a site
     * @param url the website url
     * @param para the parameter hashMap, use put to add
     * @param header the header hasMap, use put to add
     * @return a response json object
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">JSONObject</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">,</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> para<span class="token punctuation">,</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> header<span class="token punctuation">)</span>
</code></pre></div><ol start="2"><li>POST请求</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
     * send a post to a site
     * 
     * @param url the website url
     * @param para the parameter hashMap, use put to add
     * @param header the header hasMap, use put to add
     * @param bodyFormat the body hashMap, if use none, put(&quot;none&quot;,&quot;&quot;), if form-data, put(key,value)
     * @return a response json object
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">JSONObject</span> <span class="token function">post</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">,</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> para<span class="token punctuation">,</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> header<span class="token punctuation">,</span>
        <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> bodyFormat<span class="token punctuation">)</span>
</code></pre></div><h3 id="utils"><a href="#utils" class="header-anchor">#</a> utils</h3> <h5 id="fileutils"><a href="#fileutils" class="header-anchor">#</a> fileUtils</h5> <ol><li>获取文件夹内文件数</li></ol> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token comment">/**
     * 获取文件夹内文件数目
     *
     * @param path
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Integer</span> <span class="token function">getFileLength</span><span class="token punctuation">(</span><span class="token class-name">String</span> path<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</code></pre></div><ol start="2"><li>批量转换文件类型</li></ol> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token comment">/**
     * 批量转换文件类型
     *
     * @param path 文件夹路径
     * @param oldExt 原本类型
     * @param newExt 转换后类型
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">renameFiles</span><span class="token punctuation">(</span><span class="token class-name">String</span> path<span class="token punctuation">,</span> <span class="token class-name">String</span> oldExt<span class="token punctuation">,</span> <span class="token class-name">String</span> newExt<span class="token punctuation">)</span>
</code></pre></div><ol start="3"><li>复制文件</li></ol> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token comment">/**
     * 复制文件
     *
     * @param input 输入
     * @param output 输出
     * @throws IOException
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">copyFile</span><span class="token punctuation">(</span><span class="token class-name">File</span> input<span class="token punctuation">,</span> <span class="token class-name">File</span> output<span class="token punctuation">)</span> 
</code></pre></div><ol start="4"><li>批量复制文件</li></ol> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token comment">/**
     * 批量复制文件
     *
     * @param inputPath 输入目录
     * @param outputPath 输出目录
     * @param number 每个文件复制数量
     * @param inputPrefix 输入文件前缀
     * @param outputPrefix 输出文件前缀
     * @param inputType 输入文件类型
     * @param outputType 输出文件类型
     * @return 文件操作数
     * @throws IOException
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Integer</span> <span class="token function">copyFile</span><span class="token punctuation">(</span><span class="token class-name">String</span> inputPath<span class="token punctuation">,</span> <span class="token class-name">String</span> outputPath<span class="token punctuation">,</span> <span class="token class-name">Integer</span> number<span class="token punctuation">,</span> <span class="token class-name">String</span> inputPrefix<span class="token punctuation">,</span>
        <span class="token class-name">String</span> outputPrefix<span class="token punctuation">,</span> <span class="token class-name">String</span> inputType<span class="token punctuation">,</span> <span class="token class-name">String</span> outputType<span class="token punctuation">)</span>
</code></pre></div><h5 id="imageutils"><a href="#imageutils" class="header-anchor">#</a> imageUtils</h5> <ol><li>图片/文件转为字节</li></ol> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token comment">/**
     * 图片转字节
     * 
     * @param imgFile 文件路径
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token class-name">String</span> imgFile<span class="token punctuation">)</span> 
</code></pre></div><ol start="2"><li>字节转图片</li></ol> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token comment">/**
     * 字节转图片
     * 
     * @param data 数据
     * @param path 输出路径
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">byte2image</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data<span class="token punctuation">,</span> <span class="token class-name">String</span> path<span class="token punctuation">)</span>
</code></pre></div><h5 id="textutils"><a href="#textutils" class="header-anchor">#</a> textUtils</h5> <p>CharsetKit 字符串处理工具栏</p> <p>Convert 类型转换器</p> <p>DatePattern 日期格式匹配</p> <p>IdWorker Id生成器</p> <p>RandomValueUtil 随机姓名生成器</p> <p>StrFormatter 字符串格式化,替换{}标识</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ebe3b1de.js" defer></script><script src="/assets/js/2.4c58c080.js" defer></script><script src="/assets/js/19.c751ec00.js" defer></script>
  </body>
</html>
